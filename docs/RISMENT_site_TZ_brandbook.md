# ТЗ: Сайт + личный кабинет RISMENT (Laravel + MySQL) — с брендбуком

Версия: 1.0  
Дата: 2025-12-25  
Стек: **PHP (Laravel)** + **MySQL** + Blade + TailwindCSS + Vite  
Админка: **Filament** (рекомендовано)

---

## 1. Цель проекта

Сделать **полноценный продукт**, а не лендинг:

1) **Публичный сайт** (продажи, доверие, SEO, калькулятор тарифов)  
2) **Личный кабинет клиента** (остатки, заявки, статусы, документы)  
3) **Админ-панель** (CMS + тарифы + клиенты + операции)

Поддержка маркетплейсов: **Uzum, Wildberries, Ozon, Yandex Market**  
Схемы: **FBO / FBS / DBS / EDBS**

---

## 2. Брендбук RISMENT (UI/UX дизайн-система)

### 2.1. Логотип и носители
- Логотип используется в шапке сайта, в футере, в PDF/счетах и в кабинете.
- Минимальная ширина логотипа в UI: **140px**.
- Минимальные отступы вокруг логотипа: **16px**.
- На фоне фото/градиента логотип использовать только с **подложкой** (карточка/плашка).

**Файлы логотипа, которые нужно подготовить (если их нет):**
- `/public/brand/logo.svg` (основной)
- `/public/brand/logo-mark.svg` (только знак)
- `/public/brand/logo-dark.svg` (на светлом фоне)
- `/public/brand/logo-light.svg` (на темном фоне)
- `/public/brand/favicon.svg` + `favicon.ico`

### 2.2. Цветовая палитра (Design Tokens)

**Primary (RISMENT Purple):** `#CB4FE4`  
**Primary Hover / Active:** `#8E2BC6`  
**Text / Black:** `#0B0B10`  
**Background:** `#FFFFFF`  
**Soft Background:** `#F6F7FB`  
**Border:** `#E9ECF2`  
**Muted Text:** `#6B7280`

**System Colors:**
- Success: `#22C55E`
- Warning: `#F59E0B`
- Error: `#EF4444`
- Info: `#3B82F6`

**Рекомендация по градиенту бренда (опционально, аккуратно):**
- `linear-gradient(135deg, #CB4FE4 0%, #8E2BC6 100%)`

### 2.3. Шрифты

#### Основной вариант (рекомендуется)
- Заголовки: **Manrope** (600–800)
- Текст интерфейса: **Inter** (400–600)

#### Запасной вариант (если нужна проще интеграция)
- Заголовки: **Inter** (600–800)
- Текст: **Inter** (400–600)

**Подключение:** через Google Fonts или локально (предпочтительно локально для скорости).

### 2.4. Типографика (размеры и интервалы)

#### Заголовки
- H1: 40px / 48px, 800
- H2: 32px / 40px, 700
- H3: 24px / 32px, 700
- H4: 20px / 28px, 600

#### Текст
- Body L: 18px / 28px, 400
- Body M: 16px / 26px, 400
- Body S: 14px / 22px, 400
- Caption: 12px / 18px, 500

#### Числа/цены
- Price: 20px / 28px, 700
- Price Small: 16px / 24px, 700

### 2.5. Сетка, отступы, радиусы
- Контейнер: **max-width 1200px**
- Базовый шаг отступов: **8px**
- Радиусы:
  - Карточки: **16px**
  - Кнопки: **12px**
  - Инпуты: **12px**
- Тени (минималистично):
  - Card shadow: `0 8px 24px rgba(11,11,16,0.08)`
  - Hover: `0 12px 30px rgba(11,11,16,0.10)`

### 2.6. Компоненты UI (обязательный набор)

#### Кнопки
- Primary: фон `#CB4FE4`, текст белый, hover `#8E2BC6`
- Secondary: белый фон, бордер `#E9ECF2`, текст `#0B0B10`
- Ghost: прозрачная, hover подсветка `#F6F7FB`
- Danger: `#EF4444`

Размеры кнопок:
- L: высота 48px, padding 16×20, текст 16px
- M: высота 40px, padding 12×16, текст 14–16px
- S: высота 32px, padding 10×12, текст 14px

#### Формы
- Инпут: высота 44px, радиус 12px, бордер `#E9ECF2`
- Ошибка: текст `#EF4444`, бордер инпута `#EF4444`
- Телефон: маска **+998 (__) ___-__-__**

#### Таблицы тарифов
- Sticky header
- Фильтры: маркетплейс × схема × тип операции
- Подсветка строки при hover
- Выделение ключевых цен (Price style)

#### Бейджи/статусы
- New / In progress / Done / Issue
- Цвета: info/success/warning/error

### 2.7. Фотографии/графика (стиль контента)
Сайт должен выглядеть “дорого” и доверительно. Нужны **реальные** или качественные стоковые фото:

**Что использовать (контент-пул):**
1) Фото склада (чистота, стеллажи, упаковочная зона, приемка)
2) Фото упаковки (стретч, сейф-пакеты, короба, этикетки)
3) Фото процесса (сканер, принтер этикеток, сборка заказов)
4) Иконки маркетплейсов (официальные, без искажений)

**Требования к фото:**
- Свет: нейтральный/белый, без желтизны
- Фон: чистый склад/стол, минимум визуального шума
- Форматы: `.webp` (основной), `.jpg` (fallback)
- Размеры:
  - Hero: 1600×900
  - Card cover: 1200×800
  - Gallery: 1000×1000
- Оптимизация: сжатие + lazy-load

**Где на сайте фото обязательны:**
- Главная (hero)
- О компании (галерея склада)
- Услуги (по 1 фото на сценарий: FBO/FBS/DBS)
- Регламенты/SLA (пример упаковки и маркировки)

---

## 3. Тарифы и бизнес-логика (обязательные правила)

### 3.1. Категории габарита (как у Uzum)
Категория считается по **сумме трех сторон в упаковке**: `L + W + H` (см).
- **МГТ:** `<= 60`
- **СГТ:** `> 60 и <= 170`
- **КГТ:** `> 170`
Правило для заказа: если позиций несколько — категория определяется по **самой крупной позиции**.

### 3.2. Логистика RISMENT (FBS / DBS) — фикс как у Uzum
- МГТ: **5 000 сум / ед.**
- СГТ: **8 000 сум / ед.**
- КГТ: **20 000 сум / ед.**
- Нестандарт (хрупкое/негабарит/сверхлимит): **индивидуально**

### 3.3. FBO (партии на склад МП)
- **Доставка FBO:** 50 000 сум за 1 короб **60×40×40 см**
- Подготовка партии — ступени (согласно прайсу RISMENT):
  - до 100: 3 000 / шт
  - 101–300: 2 000 / шт
  - 301–700: 1 800 / шт
  - 701–1200: 1 600 / шт
  - 1201–1800: 1 400 / шт
  - 1801–2500: 1 200 / шт
  - 2501+: 1 000 / шт

### 3.4. Pick&Pack (FBS/DBS)
- Pick&Pack (1 позиция): **7 000 сум / заказ**
- Доп. позиция: **1 200 сум / шт**
- Опции:
  - двойной контроль: +1 000
  - срочно same-day: +3 000

### 3.5. Упаковка (материалы + работа)
- Стретч: 500
- Zip-lock: 500
- Сейф-пакет: 1 200
- Термоусадка: 1 000
- Хрупкое: 3 000
- Короб S/M/L: 2 500 / 4 000 / 6 000

### 3.6. Контракт и управление (как отдельный продукт)
- Онбординг (договор, регламенты, обучение): 500 000 (разово)
- Подключение кабинета + импорт SKU (до 3000): 1 000 000 (разово)
- Управление: Basic 1.5 млн / Pro 3 млн / Max по смете

---

## 4. Функциональные требования

### 4.1. Публичный сайт (не лендинг)

#### Страницы (RU/UZ)
1) Главная  
2) Услуги (фильтр: marketplace × scheme)  
3) Тарифы (таблицы + фильтры)  
4) Калькулятор  
5) SLA и регламенты  
6) FAQ  
7) О компании (галерея склада)  
8) Контакты (карта, мессенджеры)  
9) Документы (оферта, политика)

#### Формы (лиды)
- “Оставить заявку” (имя, телефон +998, компания, площадки, схемы, комментарий)
- “Запросить расчёт” (данные калькулятора + контакты)
- “Стать клиентом” (расширенная анкета)

Обязательные проверки:
- маска телефона +998
- rate limit (антиспам)
- сохранение в БД + отправка уведомления менеджеру (email/telegram — этап 2, но “hooks” сделать сразу)

### 4.2. Калькулятор (публичный)
Ввод:
- схема: FBS/DBS/FBO
- marketplace (для отображения условий)
- L/W/H (см), вес (кг)
- количество позиций, количество коробов (для FBO)

Логика:
- определение МГТ/СГТ/КГТ по L+W+H
- расчёт логистики (5k/8k/20k)
- добавление pick&pack (7k + доп.позиции)
- опции упаковки чекбоксами
- FBO: 50k × кол-во коробов

Вывод:
- детальная смета строками + итог

### 4.3. Личный кабинет клиента

Разделы:
1) Дашборд (остатки, активные заявки, уведомления)  
2) Остатки (SKU, количество, место, фото)  
3) Заявка на приёмку (ASN)  
4) Заявка на FBO отгрузку  
5) Заказы FBS/DBS (если включено)  
6) Финансы (акты/счета/история операций)  
7) Поддержка (тикеты)

### 4.4. Админ-панель (Filament)
- CMS: страницы/услуги/FAQ/документы (RU/UZ)
- Тарифы: редактирование таблиц, диапазонов, категорий МГТ/СГТ/КГТ
- Клиенты: компании, пользователи, статусы, менеджеры
- Операции: inbound, shipments, orders, inventory
- Финансы: акты/счета, операции списаний
- Роли/права
- Audit log

---

## 5. Модель данных (MySQL)

Минимальный набор таблиц:

### 5.1 Пользователи и роли
- users
- roles, permissions, role_user, permission_role

### 5.2 Клиенты
- companies
- company_users

### 5.3 Контент
- pages (RU/UZ поля)
- services (RU/UZ поля)
- faqs (RU/UZ поля)
- documents (RU/UZ поля)

### 5.4 Тарифы
- tariff_plans
- tariff_categories
- tariff_items (fixed/range)
- size_categories (mgt/sgt/kgt, min/max, price)

### 5.5 Лиды и поддержка
- leads
- tickets, ticket_messages

### 5.6 Склад (MVP)
- skus (dims, weight, barcode)
- inventory (qty, location)
- inbounds, inbound_items
- shipments_fbo, shipment_items
- orders_fbs, order_items (опционально MVP)

### 5.7 Финансы
- invoices, acts
- operation_charges

### 5.8 Аудит
- audit_logs

---

## 6. Требования к качеству и безопасности
- CSRF, XSS защита, rate limiting на формы
- Пароли: bcrypt/argon2
- Логи действий админа (audit_logs)
- Бэкапы БД ежедневно
- SEO: sitemap.xml, robots.txt, meta/OG, canonical
- Производительность: кеширование страниц тарифов и контента

---

## 7. Приёмочные критерии (DoD)
1) Публичный сайт полностью работает на RU/UZ, контент редактируется через админку  
2) Тарифы редактируются в админке и обновляются на сайте без разработчика  
3) Калькулятор корректно определяет МГТ/СГТ/КГТ по L+W+H и считает 5k/8k/20k  
4) Кабинет: остатки + inbound + FBO заявки + статусы + тикеты работают  
5) Роли/права корректны: клиенты видят только свои данные  
6) Все формы сохраняют лиды в БД и логируют источник  
7) Верстка соответствует брендбуку: цвета/шрифты/типографика/компоненты

---

## 8. Реализация (рекомендации для разработчика)

### 8.1 Tailwind Config (пример токенов)
В `tailwind.config.js` завести брендовые цвета:
- `brand: { DEFAULT: '#CB4FE4', dark: '#8E2BC6', soft: '#F6F7FB', border: '#E9ECF2' }`

### 8.2 Структура роутов (пример)
- `/ru` и `/uz` группами
- `/cabinet/*` (middleware auth)
- `/admin/*` (Filament, middleware admin)

### 8.3 Формирование PDF (этап 2)
- счета/акты: dompdf или snappy/wkhtmltopdf (по выбору)

---

## 9. Контент/ассеты, которые нужно подготовить (от клиента)
1) Логотипы SVG (основной/темный/светлый/иконка)  
2) 10–20 фото склада и процессов (см. раздел 2.7)  
3) Иконки маркетплейсов (брендовые, без искажений)  
4) Контент RU/UZ: “О нас”, “Услуги”, “SLA/Регламенты”, “FAQ”  
5) Документы: оферта/политика

---

## 10. Приложение: Ссылки на тарифы для сайта
- Логистика FBS/DBS: МГТ 5k / СГТ 8k / КГТ 20k  
- FBO доставка: 50k / короб 60×40×40  
- Pick&Pack: 7k + 1.2k доп позиция  
- Ступени подготовки партии: как в разделе 3.3  
